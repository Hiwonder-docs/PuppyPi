#  3. Remote Tool Installation and Docker Entry Method

<p id="anchor_3_1"></p>

## 3.1. VNC Installation and Connection

**3.1.1 Preparation**

* **Hardware**

Prepare a computer. If you are using desktop computer, wireless network card is required. The network card should support 5G band.

* **Install VNC**

VNC is a graphical remote desktop control software. Through connecting your computer to the WiFi generated by Raspberry Pi, you can control Raspberry Pi. Installation of VNC is as below.

(1) Double-click the installation program **"VNC-Viewer-6.17.731-Windows"** in the same directory as this section. Select the installation language as "**English**" and lick "**OK**".

<img class="common_img" src="../_static/media/chapter_8/section_1/image1.png" />

(2) Click "**Next**".

<img class="common_img" src="../_static/media/chapter_8/section_1/image2.png" />

(3) Tick **"I accept the terms in the License Agreement"**. Then click **"Next"**.

<img class="common_img" src="../_static/media/chapter_8/section_1/image3.png" />

(4) Remain default location where the software is installed. Click **"Next"** to proceed next interface. Then directly click **"Install"**.

<img class="common_img" src="../_static/media/chapter_8/section_1/image4.png"  />

(5) When the installation completes, click **"Finish"**.

<img class="common_img" src="../_static/media/chapter_8/section_1/image5.png" />

(6) Click <img src="../_static/media/chapter_8/section_1/image6.png" width="50px" /> to open VNC.

* **Start Robot**

Start Robot When LED1 on expansion board starts flickering and buzzer emits one beep, robot boots up successfully.

**3.1.2 Connect to Robot**

(1) After turning Robot on successfully, the default mode is AP direct connection mode. Robot generates a WiFi starting with HW. Connect your computer to this WiFi.

<img class="common_img" src="../_static/media/chapter_8/section_1/image7.png"  />

(2) Input password. The password is **"hiwonder"**.

<img class="common_img" src="../_static/media/chapter_8/section_1/image8.png"   />

<img class="common_img" src="../_static/media/chapter_8/section_1/image9.png"   />

(3) After connection, open VNC Viewer. Input the default IP address of Raspberry Pi, **192.168.149.1**, and then press Enter. If you receive security warning, select **"Continue"**.

<img class="common_img" src="../_static/media/chapter_8/section_1/image10.png"  />

(4) Input username and password. **(Username: pi;Password: raspberrypi)**. Click **"OK"** to enter Raspberry Pi desktop.

<img class="common_img" src="../_static/media/chapter_8/section_1/image11.png"  />

(5) The desktop is as pictured. If black screen occurs or only cursor leaves on the screen, restart Raspberry Pi.

<img class="common_img" src="../_static/media/chapter_8/section_1/image12.png"  />

**3.1.3 Introduction to Desktop**

The desktop is as pictured after connecting Robot through VNC successfully.

<img class="common_img" src="../_static/media/chapter_8/section_1/image13.png"  />

The following table demonstrates common functions:

<table  class="docutils-nobg" border="1" style="text-align:center;">
<colgroup>
<col  />
<col  />
</colgroup>
<tbody>
<tr>
<td >Icon</td>
<td >Function</td>
</tr>
<tr>
<td ><img src="../_static/media/chapter_8/section_1/image14.png"   /></td>
<td ><p>Application menu. Click to select different applications.</p>
<p><img src="../_static/media/chapter_8/section_1/image15.png"  /></p></td>
</tr>
<tr>
<td ><img src="../_static/media/chapter_8/section_1/image16.png"   /></td>
<td >Browser.</td>
</tr>
<tr>
<td ><img src="../_static/media/chapter_8/section_1/image17.png"   /></td>
<td >File manager.</td>
</tr>
<tr>
<td ><img src="../_static/media/chapter_8/section_1/image18.png"   /></td>
<td >LX terminal. Click to input command line in the opened interface.</td>
</tr>
<tr>
<td ><img src="../_static/media/chapter_8/section_1/image19.png"   /></td>
<td >Trash. You can find the files deleted here.</td>
</tr>
<tr>
<td ><img src="../_static/media/chapter_8/section_1/image20.png"   /></td>
<td >PC software. You can adjust pan tilt and adjust color threshold on it.</td>
</tr>
<tr>
<td ><img src="../_static/media/chapter_8/section_1/image21.png"   /></td>
<td >Full screen or exit full screen.。</td>
</tr>
<tr>
<td ><img src="../_static/media/chapter_8/section_1/image22.png"   /></td>
<td >Exit full screen.</td>
</tr>
<tr>
<td ><img src="../_static/media/chapter_8/section_1/image23.png"   /></td>
<td ><p>Shut down, reboot and logout</p>
<p><img src="../_static/media/chapter_8/section_1/image24.png"  /></p></td>
</tr>
</tbody>
</table>



## 3.2 Brief Instruction to System Directory

### 3.2.1 Desktop Layout

After remotely connecting to VNC, Raspberry Pi system desktop is as follow:

<img src="../_static/media/chapter_8/section_2/image2.png"  />

Desktop mainly includes the following programs:

|                                                 Icon                                              | Function |
|:-------------------------------------------------------------------------------------------------------:|:--:|
| <img src="../_static/media/chapter_8/section_2/image5.png" style="width:0.58681in;height:0.58681in" />  | PuppyPi PC Software contains action programming and calling functions, etc. |
| <img src="../_static/media/chapter_8/section_2/image6.png" style="width:0.58681in;height:0.58681in" />  | Color model parameter adjustment tool |
| <img src="../_static/media/chapter_8/section_2/image7.png" style="width:0.58681in;height:0.58681in" />  | Command line terminal, which is used to input command to operate |
| <img src="../_static/media/chapter_8/section_2/image8.png" style="width:0.58681in;height:0.58681in" />  | Trash |
| <img src="../_static/media/chapter_8/section_2/image9.png" style="width:0.58681in;height:0.58681in" />  | Application menu |
| <img src="../_static/media/chapter_8/section_2/image10.png" style="width:0.58681in;height:0.58681in" /> | System file management |

### 3.2.2 Program Structure

:::{Note}

The entered command should be case sensitive, as well as spaces. And **"TAB"** key can auto-complement key words.

:::

(1) Click the icon<img src="../_static/media/chapter_8/section_2/image11.png" style="width:0.4375in;height:0.35417in" /> on the top left corner of the desktop to open the command line terminal.

(2) Input "**ls**" command, then press enter to list all the current files.

```bash
ls
```

<img class="common_img" src="../_static/media/chapter_8/section_2/image13.png"  />

|     **Name**     |                      Function                      |
| :--------------: | :------------------------------------------------: |
|     puppypi      | Store PuppyPi's debugging scripts and other files. |
| hiwonder-toolbox |               Wi-Fi management tool                |

Since the functionalities, play features, and source code of PuppyPi are all stored in a Docker container, you need to enter the container to view them.

(1)  Click the icon <img src="../_static/media/chapter_8/section_2/image15.png" style="width:0.32292in;height:0.30208in" /> on the upper left corner to open the Terminator terminal.

<img class="common_img" src="../_static/media/chapter_8/section_2/image16.png"  />

(2) In the command line terminal, enter the command "**docker ps -a**" and press Enter to display the currently running and previously run containers. The container id is the ID of the container, the image is the name of the image used by the container, created is the container creation time, and status is the current state of the container.

```bash
docker ps -a
```

<img src="../_static/media/chapter_8/section_2/image18.png"  />

(3) Based on the obtained container ID (unique), enter the command "**docker exec -it -u ubuntu -w /home/ubuntu 82df /bin/bash**" (The container ID can be abbreviated as long as it uniquely identifies the container) to access the container containing the functional programs.

```bash
docker exec -it -u ubuntu -w /home/ubuntu 82df /bin/bash
```

<img src="../_static/media/chapter_8/section_2/image20.png"  />

(4) Enter the command "**ls**" and press Enter to list all the current files. Focus on these two directories, as shown below:

```bash
ls
```

<img src="../_static/media/chapter_8/section_2/image22.png"  />

|   Name   |                           Function                           |
| :------: | :----------------------------------------------------------: |
| puppypi  | The ROS workspace storing PuppyPi's functionalities and play features |
|  share   |        The shared drive with the Raspberry Pi system         |
| softwave | Store the upper computer and color threshold adjustment tools, etc. |

(5) Next, you will proceed the game and program source code directory. Input command to list all the folders and files of this directory.

```bash
cd puppypi/src/
```

```bash
ls
```

<img src="../_static/media/chapter_8/section_2/image24.png"  />

The following table is the program directory:

|           Name           |                           Function                           |
| :----------------------: | :----------------------------------------------------------: |
| puppy_advanced_functions | Store the program used in "**9. Ros Robot Comprehensive Development Course**" |
|      puppy_control       |           Store gait, joystick and other programs.           |
| puppy_standard_functions |            Store "**8. ROS Robot AI Visual Course**".            |

The following table lists game files and their corresponding descriptions:

|      Name       |       Function        |
| :-------------: | :-------------------: |
| apriltag_detect |    Tag recognition    |
|  color_detect   |   Color recognition   |
|   face_detect   |    Face detection     |
| object_tracking |    Target tracking    |
|  visual_patrol  | Visual Line Following |

## 3.3 Docker Container Introduction and Entry

### 3.3.1 Docker Introduction

Docker, an open-source platform and tool, helps you to package, distribute, and run apps within containers. Container is a lightweight, independent, executable software package that includes the application code, runtime environment, system tools, system libraries and settings. Docker allows developers to package applications along with their dependencies, not just the application itself, facilitating rapid and consistent deployment across different environments. 
In technical terms, Docker utilizes Linux containerization technology of operating system, making the isolation between applications more efficient. And it can run multiple containers on the same physical machine, with each container being independent and not affecting each other.
After all, Docker can be understood as a tool that makes applications and their dependencies more portable and easier to manage, bringing great convenience to software development and deployment.

<img class="common_img" src="../_static/media/chapter_8/section_3/image1.png" style="width:2.07292in;height:1.23958in" alt="docker01" />

<p style="margin:0 auto 24px">Docker Sign</p>

You can go to "**Docker Container Basic Course**" or relevant Docker websites to learn Docker.

Docker official website：[http://www.docker.com](http://www.docker.com)

Docker Chinese website：[https://www.docker-cn.com](https://www.docker-cn.com)

Docker Hub (warehouse) official website：[https://hub.docker.com](https://hub.docker.com)

### 3.3.2 Docker General Commands

All the games and programs of this product will be run in the Docker container. In order to help users to quickly understand and get started with this product, the following introduces the general commands of Docker. 

(1) Start up the device and connect it with VNC remote connection tool according to "[**3.1 VNC Installation and Connection**](#anchor_3_1)".

(2)  Click the icon <img src="../_static/media/chapter_8/section_3/image3.png" style="width:0.32292in;height:0.30208in" /> on the left top corner of the system desktop to open Terminator terminal. 

<p id="anchor_3_3_2_1"></p>

* **Check Containers**

Command parameters instruction：`docker ps [OPTIONS]`

General parameters instruction:

(1) -a ：list all currently running containers + containers that have been run in the past.

(2) -l ：display recently created containers

(3) -n=? ：display recently created n containers

(4) -q ：silent mode, only display container number

In the command line terminal, enter "**docker ps -a**" to display running and previously run containers. "**container id**" is the ID of containers, "**image**" is the image name of this container, "**created**" is the created time of the container, "**status**" is current state of container.

```bash
docker ps -a
```

<img class="common_img" src="../_static/media/chapter_8/section_3/image5.png"  />

* **Enter Containers**

According to "[**3.3.2 Docker General Commands -> Check Containers**](#anchor_3_3_2_1)" to get container ID (the only one). Input command "**docker exec -it -u ubuntu -w /home/ubuntu 82df /bin/bash**" to enter the container where the functional program is installed. The container ID can be abbreviated as long as it is the unique identification of this container.

```bash
docker exec -it -u ubuntu -w /home/ubuntu 82df /bin/bash
```

<img class="common_img" src="../_static/media/chapter_8/section_3/image6.png"  />

* **Exit Containers**

There are two commands to exit containers:

(1) Input "**exit**" directly in terminal and press enter key. While the container will stop running and exit.

```bash
exit
```

<img class="common_img" src="../_static/media/chapter_8/section_3/image7.png"  />

(2)  Use the shortcut key combination **"ctrl+P+Q"**. The container will exit directly but remain running. You can input command "**docker ps**" in terminal to check the running containers. 

```bash
docker ps
```

<img class="common_img" src="../_static/media/chapter_8/section_3/image8.png"  />

### 3.3.3 Convenient Tool Usage (MUST READ)

It is inconvenient to input command in the terminator terminal every time. Therefore, you can set command to enter the container in the terminator tool. 

<img class="common_img" src="../_static/media/chapter_8/section_3/image9.png"  />

(1)  Right-click the terminator window, and click "**Preference**".

<img class="common_img" src="../_static/media/chapter_8/section_3/image10.png"  />

(2) Select **"Profiles->Command"**.

<img class="common_img" src="../_static/media/chapter_8/section_3/image11.png"  />

(3)  In the  column, input command **"xhost + && docker exec -it -u ubuntu -w /home/ubuntu puppypi /bin/zsh"** to enter the container. 

:::{Note}

82df is the container ID of the container with the functional games.

:::

```bash
xhost + && docker exec -it -u ubuntu -w /home/ubuntu puppypi /bin/zsh
```

<img class="common_img" src="../_static/media/chapter_8/section_3/image12.png"  />

(4)  Then click to close. In this way, every time you open the terminal, you can enter directly to the container with the functional program. 

<img class="common_img" src="../_static/media/chapter_8/section_3/image13.png"  />



